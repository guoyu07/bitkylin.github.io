<!doctype html>




<html class="theme-next pisces" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />


















  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="Without the continuous bitter cold, there be no fragrant plum blossom ~ ~ 不经一番寒彻骨，怎得梅花扑鼻香。">
<meta property="og:type" content="website">
<meta property="og:title" content="比特麒麟">
<meta property="og:url" content="http://bitky.cc/index.html">
<meta property="og:site_name" content="比特麒麟">
<meta property="og:description" content="Without the continuous bitter cold, there be no fragrant plum blossom ~ ~ 不经一番寒彻骨，怎得梅花扑鼻香。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="比特麒麟">
<meta name="twitter:description" content="Without the continuous bitter cold, there be no fragrant plum blossom ~ ~ 不经一番寒彻骨，怎得梅花扑鼻香。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: false,
    motion: false,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://bitky.cc/"/>





  <title> 比特麒麟 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">比特麒麟</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">https://github.com/bitkylin</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://bitky.cc/2016/11/07/wpf/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪中亮「123lml123」">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="比特麒麟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/07/wpf/" itemprop="url">
                  基于 WPF 的酷炫 GUI 窗口的简易实现
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-07T12:57:47+08:00">
                2016-11-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/c/" itemprop="url" rel="index">
                    <span itemprop="name">c#</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>本文要实现基于 WPF 的酷炫 GUI 窗口，力图实现一个真正可用且实用的 GUI 窗口。</p>
<p>本文要实现的效果如图所示：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-3e12b64d19ab769a.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="最终效果"></p>
<p>效果总结如下：</p>
<ul>
<li>无标题栏，或自定义标题栏</li>
<li>窗口的半透明效果</li>
<li>窗口可自由拖拽</li>
<li>Enter 以及 Esc 等默认按键</li>
<li>右键菜单</li>
</ul>
<h1 id="1-窗口的效果实现"><a href="#1-窗口的效果实现" class="headerlink" title="1. 窗口的效果实现"></a>1. 窗口的效果实现</h1><h2 id="1-1-窗口外观相关"><a href="#1-1-窗口外观相关" class="headerlink" title="1.1 窗口外观相关"></a>1.1 窗口外观相关</h2><p>首先新建一个窗口，更改外观，对窗口的属性进行如下设置：</p>
<ul>
<li><p>外观设置中 , 「AllowsTransparency」复选框勾选上，该窗口就可以透明化，同时「WindowStyle」会自动变更为「None」, 窗口的默认标题栏会消失，此时可以选择自定义标题栏。</p>
</li>
<li><p>窗口允许透明化后，在「Background」、「BorderBrush」等选项中，对窗体的背景及边框颜色进行设置。可以设置为纯色或各种渐变形态以及各种透明形态。</p>
</li>
<li><p>使用「BorderThickness」项设置窗体的边框宽度。</p>
</li>
<li><p>「Opacity」设置整个界面的不透明度</p>
</li>
</ul>
<p>设置界面如下图所示：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-7867eb5798263f7c.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="窗口布局设置页面"></p>
<h2 id="1-2-窗口大小位置相关"><a href="#1-2-窗口大小位置相关" class="headerlink" title="1.2 窗口大小位置相关"></a>1.2 窗口大小位置相关</h2><p>更改窗口的位置，对如下属性进行设置：</p>
<ul>
<li>WindowStartupLocation：修改窗口打开时的位置</li>
<li>WindowState：修改窗口打开时的大小状态，可设置全屏窗口</li>
<li>Topmost：本窗口置顶</li>
<li>Width和Height：窗口打开时的尺寸</li>
<li>MinWidth和MinHeight：窗口的最小尺寸</li>
</ul>
<h1 id="2-方便对窗口操作的功能实现"><a href="#2-方便对窗口操作的功能实现" class="headerlink" title="2. 方便对窗口操作的功能实现"></a>2. 方便对窗口操作的功能实现</h1><p>为方便对窗口的操作，可进行如下设置：</p>
<ul>
<li><p>设置某个 button 的属性，设置 IsCancel 和 IsDefault 属性，可设置 Enter 和 Esc 键所触发的按钮。</p>
</li>
<li><p>设置拖动窗口的任意位置均可拖拽窗口，可设置窗口的事件调用方法，设置 MouseLeftButtonDown 事件的调用方法。</p>
</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-28a615bb3f79fb77.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="MouseLeftButtonDown 事件调用方法设置"></p>
<p>设置的方法如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">private void Window_MouseLeftButtonDown(object sender, MouseButtonEventArgs e)</div><div class="line">&#123;</div><div class="line">    DragMove();</div><div class="line">&#125;</div><div class="line">```	</div><div class="line"></div><div class="line">点击关闭按钮时结束整个应用程序，可设置关闭事件的回调方法，也可设置按钮点击事件的方法，如下：</div></pre></td></tr></table></figure>
<p>private void btnExit_Click(object sender, RoutedEventArgs e)<br>{<br>    Environment.Exit(0);<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">实现窗口的右键菜单及其点击事件，需要设置窗口的「ContextMenu」属性，或在 Xaml 文件中，添加如下内容：</div><div class="line"></div><div class="line">```xml</div><div class="line">&lt;Window.ContextMenu&gt;</div><div class="line">    &lt;ContextMenu Name=&quot;ChangePassword&quot;&gt;</div><div class="line">        &lt;MenuItem Header=&quot;修改登录密码&quot;</div><div class="line">                  Click=&quot;MenuItemChangePassword_Click&quot; /&gt;</div><div class="line">        &lt;MenuItem Header=&quot;关于&quot;</div><div class="line">                  Click=&quot;MenuItemAbout_Click&quot; /&gt;</div><div class="line">    &lt;/ContextMenu&gt;</div><div class="line">&lt;/Window.ContextMenu&gt;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://bitky.cc/2016/11/06/logcat/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪中亮「123lml123」">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="比特麒麟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/06/logcat/" itemprop="url">
                  荣耀v8 真机调试时不显示 Logcat 日志的解决办法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-06T12:57:47+08:00">
                2016-11-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>「最新更新」</strong>我刚刚尝试使用荣耀v8进行调试，该手机已升级到最新版系统「基于 EMUI 5.0 + Android 7.0」，发现 LogCat 调试一切正常，已不存在该问题，请大家升级后重试。</p>
</blockquote>
<p>之前的真机调试时没有任何问题，最近使用荣耀v8时 , LogCat 无法输出调试日志，解决方法如下：</p>
<p>步骤1： 手机拨号界面，输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">*#*#2846579#*#*</div></pre></td></tr></table></figure>
<p>跳转进入「后台设置」</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-8d9496c60b8f40d7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="后台设置"></p>
<p>步骤2： 进入「LOG设置」, 将复选框均勾选上</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-f381dc032166008e.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="LOG设置"></p>
<p>步骤3： 之后 , Logcat 可被启用，不需重启手机。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://bitky.cc/2016/10/12/wpf/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪中亮「123lml123」">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="比特麒麟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/12/wpf/" itemprop="url">
                  WPF 下的自定义控件以及 Grid 中控件的自适应
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-10-12T12:57:47+08:00">
                2016-10-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C#</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>本文主要总结使用 C# 及 .NET 在 WPF 框架下，自定义控件的绘制以及窗体中控件的自适应。</p>
<h1 id="1-WPF-下的自定义控件"><a href="#1-WPF-下的自定义控件" class="headerlink" title="1. WPF 下的自定义控件"></a>1. WPF 下的自定义控件</h1><p>WPF 下，为快速地为应用定制一个零部件，需要的是 UserControl , 为了让你打造的控件更标准化，更灵活以及更具有普遍意义，需要用到的 CustomControl 。要在 WPF 中自定义一个控件,使用 UserControl 与 CustomControl 都是不错的选择，他们的区别在于：</p>
<ul>
<li><p>UserControl , 其更像 WinForm 中自定义控件的开发风格，在开发上更简单快速，几乎可以简单地理解为：利用设计器来将多个已有控件作为子元素来拼凑成一个 UserControl 并修改其外观，然后后台逻辑代码直接访问这些子元素。其最大的弊端在于: 其对模板样式等支持度不好，其重复使用的范围有限。</p>
</li>
<li><p>CustomControl , 其开发出来的控件才真正具有 WPF 风格，其对模板样式有着很好的支持，这是因为打造 CustomControl 时做到了逻辑代码与外观相分离，即使换上一套完全不同的视觉树其同样能很好的工作，就像 WPF 内置的控件一样。</p>
</li>
<li><p>在使用 Visual Studio 打造控件时 , UserControl 与 CustomControl 的差别就更加明显，在项目中添加一个 UserControl 时，我们会发现设计器为我们添加了一个 XAML 文件以及一个对应的 .CS 文件「或 .VB 等」，然后你就可以像设计普通窗体一样设计该 UserControl ; 如果我们是在项目中添加一个 CustomControl , 情况却不是这样，设计器会为我们生成一个 .CS 文件「或 .VB 等」，该文件用于编写控件的后台逻辑，而控件的外观却定义在了软件的应用主题「Theme」中了「如果你没有为软件定义通用主题，其会自动生成一个通用主题 <code>themes\generic.xaml</code>, 然后主题中会自动为你的控件生成一个 Style 」，并将通用主题与该控件关联了起来。这也就是 CustomControl 对样式的支持度比 UserControl 好的原因。</p>
</li>
</ul>
<p>这里为了简便起见，使用 UserControl 创建自定义控件。</p>
<h2 id="1-1-新建-UserControl"><a href="#1-1-新建-UserControl" class="headerlink" title="1.1 新建 UserControl"></a>1.1 新建 UserControl</h2><p>对项目点击右键，选择「添加」-&gt;「新建项」，选择 「用户控件『WPF』」”, 即可成功添加自定义控件。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-b89696c7b86cd46b.jpg" alt="添加自定义控件"></p>
<p>对该控件进行设计，拖入几个系统控件，并修改其参数即可。下图展示的是我使用 Microsoft Blend 设计对控件进行设计：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-607919602e2478ec.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="使用Microsoft Blend设计控件"></p>
<h2 id="1-2-UserControl-的基本代码"><a href="#1-2-UserControl-的基本代码" class="headerlink" title="1.2 UserControl 的基本代码"></a>1.2 UserControl 的基本代码</h2><p> 控件设计完毕后，右键单击控件编辑窗口，选择「查看代码」，或直接按「F7」键，即可编辑该控件类的源代码。我主要添加了该控件的初始化，改变控件的背景颜色，以及动态设定控件显示的值等代码功能，具体如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">/// &lt;summary&gt;</div><div class="line">///     _bitkyPoleControl.xaml 的交互逻辑</div><div class="line">/// &lt;/summary&gt;</div><div class="line">public partial class BitkyPoleControl : UserControl</div><div class="line">&#123;</div><div class="line">    private readonly Color _colorBlue = Color.FromRgb(0, 255, 200);</div><div class="line">    //改变颜色</div><div class="line">    private readonly Color _colorRed = Color.FromRgb(255, 0, 0);</div><div class="line"></div><div class="line">    public BitkyPoleControl()</div><div class="line">    &#123;</div><div class="line">        InitializeComponent();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public int _id &#123; get; private set; &#125; = -1;</div><div class="line"></div><div class="line">    /// &lt;summary&gt;</div><div class="line">    ///     根据参数初始化该控件</div><div class="line">    /// &lt;/summary&gt;</div><div class="line">    /// &lt;param name=&quot;id&quot;&gt;输入的参数&lt;/param&gt;</div><div class="line">    public void setContent(int id)</div><div class="line">    &#123;</div><div class="line">        Name = &quot;bitkyPoleControl&quot; + id;</div><div class="line">        labelPoleId.Content = id;</div><div class="line">        _id = id;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void SetValue(int num)</div><div class="line">    &#123;</div><div class="line">        labelNum.Content = num;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    /// &lt;summary&gt;</div><div class="line">    ///     设置背景颜色，0:绿  1:红</div><div class="line">    /// &lt;/summary&gt;</div><div class="line">    /// &lt;param name=&quot;i&quot;&gt;&lt;/param&gt;</div><div class="line">    public void setColor(int i)</div><div class="line">    &#123;</div><div class="line">        if (i == 0)</div><div class="line">            Background = new SolidColorBrush(_colorBlue);</div><div class="line">        if (i == 1)</div><div class="line">            Background = new SolidColorBrush(_colorRed);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="2-Grid-中控件的动态添加"><a href="#2-Grid-中控件的动态添加" class="headerlink" title="2. Grid 中控件的动态添加"></a>2. Grid 中控件的动态添加</h1><h2 id="2-1-主窗体中-Grid-的配置"><a href="#2-1-主窗体中-Grid-的配置" class="headerlink" title="2.1 主窗体中 Grid 的配置"></a>2.1 主窗体中 Grid 的配置</h2><p>我在主窗体中添加了一个 Grid , 并将该 Grid 平均分成了八行八列，如下图所示：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-c1ad801a4c8c79d7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="主窗体中的 Grid"></p>
<p>设置方法如下：如下图所示，通过对 Grid 的属性进行如下设置：</p>
<ul>
<li>在「1」处，可添加 ColumnDefinitions 和 RowDefinitions 。</li>
<li><p>在「2」处，可设置 Grid 中单元格的最小尺寸，在 width 处，有三个选项：「Auto」,「Pixel」,「Star」。</p>
<ul>
<li>“Auto”：系统根据情况自动设定尺寸。</li>
<li>“Pixel”：设定为绝对尺寸，无法自适应。</li>
<li>“Star”：设置比重，各个行或列按照设定的比重分配Grid的空间。</li>
</ul>
</li>
</ul>
<p>在此，为了平均分配 Grid 的空间，且可根据窗口大小自适应，故将所有行和列的该项设定为「Star」，值设为「1」，即可出现上图的效果。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-6a4dcec3f0d97cef.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Grid 的设置"></p>
<h2 id="2-2-Grid-中动态添加控件"><a href="#2-2-Grid-中动态添加控件" class="headerlink" title="2.2 Grid 中动态添加控件"></a>2.2 Grid 中动态添加控件</h2><p>在主窗体类中使用如下代码即可在 Grid 中动态添加控件 : </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">/// &lt;summary&gt;</div><div class="line">///     初始化信息显示标签界面</div><div class="line">/// &lt;/summary&gt;</div><div class="line">private void InitBitkyPoleShow()</div><div class="line">&#123;</div><div class="line">    var controls = new List&lt;BitkyPoleControl&gt;();</div><div class="line">    var id = 0;</div><div class="line">    for (var i = 0; i &lt; 8; i++)</div><div class="line">    &#123;</div><div class="line">        for (var j = 0; j &lt; 8; j++)</div><div class="line">        &#123;</div><div class="line">            var bitkyPoleControl = new BitkyPoleControl();</div><div class="line">            //在 Grid 中动态添加控件</div><div class="line">            GridPoleStatusShow.Children.Add(bitkyPoleControl);</div><div class="line">            //设定控件在 Grid 中的位置</div><div class="line">            Grid.SetRow(bitkyPoleControl, i);</div><div class="line">            Grid.SetColumn(bitkyPoleControl, j);</div><div class="line">            //将控件添加到集合中，方便下一步的使用</div><div class="line">            controls.Add(bitkyPoleControl);</div><div class="line">            //对控件使用自定义方法进行初始化</div><div class="line">            bitkyPoleControl.setContent(id);</div><div class="line">            id++;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>运行程序，效果如下图所示：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-c2fd2edee0471def.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Grid 初步显示"></p>
<p>观察图片可知，空间排布较为美观，如若想要子控件完全填充 Grid 中的单元格，需对子控件的属性进行配置。</p>
<h1 id="3-Grid-中子控件的动态自适应"><a href="#3-Grid-中子控件的动态自适应" class="headerlink" title="3. Grid 中子控件的动态自适应"></a>3. Grid 中子控件的动态自适应</h1><h2 id="3-1-对子控件的属性进行配置"><a href="#3-1-对子控件的属性进行配置" class="headerlink" title="3.1 对子控件的属性进行配置"></a>3.1 对子控件的属性进行配置</h2><p><img src="http://upload-images.jianshu.io/upload_images/1555570-10b96a23b3f1c847.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="对子控件的配置"></p>
<p>如图所示，将控件的宽度和高度设为「Auto」，将 HorizontalAlignment 和 VerticalAlignment 设为「Stretch」 , Margin 设为合适的值 , 则此时,  Grid 中的子控件的即可动态自适应父控件。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-d9a008db596baf6d.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="子控件的动态自适应"></p>
<h1 id="4-参考资料"><a href="#4-参考资料" class="headerlink" title="4. 参考资料"></a>4. 参考资料</h1><ol>
<li><a href="http://www.cnblogs.com/zhouyinhui/archive/2007/10/16/926355.html" target="_blank" rel="external">在 WPF 中自定义控件 : 概述</a></li>
<li><a href="http://www.cnblogs.com/zhouyinhui/archive/2007/11/18/963441.html" target="_blank" rel="external">在 WPF 中自定义控件 : CustomControl</a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://bitky.cc/2016/09/25/sqlite/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪中亮「123lml123」">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="比特麒麟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/25/sqlite/" itemprop="url">
                  用于 C# 的 SQL 基本语法总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-09-25T12:57:47+08:00">
                2016-09-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>本文目前用于 Visual Studio 2015 平台的 SQLite3 , 其他用法以后总结。</p>
<h1 id="1-使用-Nuget-添加-SQLite-库"><a href="#1-使用-Nuget-添加-SQLite-库" class="headerlink" title="1. 使用 Nuget 添加 SQLite 库"></a>1. 使用 Nuget 添加 SQLite 库</h1><p>在 Visual Studio 2015 中，选择：工具 -&gt; NuGet 包管理器 -&gt; 管理解决方案的 NuGet 程序包</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-0a0e01e8d9e0ebe9.jpg" alt="NuGet 管理界面"></p>
<p>在此界面下检索「SQLite」, 根据需要选择安装其中一个 SQLite 库，最好是红框部分内容中，二选一。</p>
<p>之后在界面的右侧，选择需要安装到的项目，之后进行安装操作即可。</p>
<h1 id="2-常用策略"><a href="#2-常用策略" class="headerlink" title="2. 常用策略"></a>2. 常用策略</h1><h2 id="2-1-对异常进行捕获"><a href="#2-1-对异常进行捕获" class="headerlink" title="2.1 对异常进行捕获"></a>2.1 对异常进行捕获</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">try</div><div class="line">&#123;</div><div class="line">    //将对数据库进行操作的语句放置在try中</div><div class="line">&#125;</div><div class="line">catch (Exception ex)</div><div class="line">&#123;</div><div class="line">    //对异常进行处理</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="2-2-事务及-SQLite-代码框架"><a href="#2-2-事务及-SQLite-代码框架" class="headerlink" title="2.2 事务及 SQLite 代码框架"></a>2.2 事务及 SQLite 代码框架</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">//使用以下语句配合具体的SQL操作语句即可</div><div class="line">//注：不主动控制事务时，每次执行SQL指令即会重复开启新的事务，</div><div class="line">//会在SQL操作方面花费大量的时间。所以在进行大量插入、修改操作</div><div class="line">//时，主动开启事务会极大节省时间</div><div class="line">var conn = new SQLiteConnection(&quot;Data Source = </div><div class="line">           ./bitkyData.db; Version = 3; &quot;);</div><div class="line">conn.Open();</div><div class="line">var trans = conn.BeginTransaction(); //开启事务</div><div class="line">var cmd = conn.CreateCommand();</div><div class="line">try</div><div class="line">&#123;</div><div class="line">    //通过操作cmd，使用具体的SQL操作语句</div><div class="line">&#125;</div><div class="line">catch (Exception)</div><div class="line">&#123;</div><div class="line">    trans.Rollback(); //事务回滚</div><div class="line">    //进行具体的异常处理</div><div class="line">&#125;</div><div class="line">trans.Commit();//事务提交</div><div class="line">conn.Close();//连接关闭</div></pre></td></tr></table></figure>
<h1 id="3-必备代码块"><a href="#3-必备代码块" class="headerlink" title="3. 必备代码块"></a>3. 必备代码块</h1><h2 id="3-1-必要初始化操作"><a href="#3-1-必要初始化操作" class="headerlink" title="3.1 必要初始化操作"></a>3.1 必要初始化操作</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//指定数据库的地址，以及SQLite版本号</div><div class="line">SQLiteConnection conn = new SQLiteConnection(&quot;Data Source = ./bitkyData.db; Version = 3; &quot;);</div></pre></td></tr></table></figure>
<h2 id="3-2-向表中插入指定的条目"><a href="#3-2-向表中插入指定的条目" class="headerlink" title="3.2 向表中插入指定的条目"></a>3.2 向表中插入指定的条目</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">void insertData()</div><div class="line">&#123;</div><div class="line">    conn.Open();</div><div class="line">    var cmd = conn.CreateCommand();</div><div class="line">    cmd.CommandText = &quot;INSERT INTO ElectrodeController(typeA,typeB,typeM) VALUES (1, 2, 3)&quot;;</div><div class="line">    cmd.ExecuteNonQuery();</div><div class="line">    conn.Close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="3-3-设置查询的条件，查询指定条目的内容"><a href="#3-3-设置查询的条件，查询指定条目的内容" class="headerlink" title="3.3 设置查询的条件，查询指定条目的内容"></a>3.3 设置查询的条件，查询指定条目的内容</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">static void selectData()</div><div class="line">&#123;</div><div class="line">    conn.Open();</div><div class="line">    var cmd = conn.CreateCommand();</div><div class="line">    cmd.CommandText = &quot;SELECT * FROM</div><div class="line">    ElectrodeController where num &gt; 45&quot;;</div><div class="line">    var reader = cmd.ExecuteReader();//获取结果集</div><div class="line">    if (reader.HasRows)</div><div class="line">    &#123;</div><div class="line">        while (reader.Read())</div><div class="line">        &#123;</div><div class="line">            Debug.WriteLine(&quot;ID: &quot; + reader.GetInt32(0));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    conn.Close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="3-4-获取数据表中条目的数量"><a href="#3-4-获取数据表中条目的数量" class="headerlink" title="3.4 获取数据表中条目的数量"></a>3.4 获取数据表中条目的数量</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">static void getCount()</div><div class="line">&#123;</div><div class="line">    conn.Open();</div><div class="line">    var cmd = conn.CreateCommand();</div><div class="line">    cmd.CommandText = &quot;SELECT COUNT(*) FROM ElectrodeController&quot;;</div><div class="line">    var scalar = cmd.ExecuteScalar();\\获取结果集中第一行第一列的那个值</div><div class="line">    Debug.WriteLine(&quot;count: &quot; + Convert.ToInt32(scalar));</div><div class="line">    conn.Close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="4-参考资料"><a href="#4-参考资料" class="headerlink" title="4. 参考资料"></a>4. 参考资料</h1><ol>
<li><a href="http://www.etwiki.cn/c-sharp/3018.html" target="_blank" rel="external">C# 查询 SQL 数据库表里共有多少条记录的两种方法</a></li>
<li><a href="http://blog.csdn.net/friendan/article/details/7342921" target="_blank" rel="external">C# 获取 SQL 2005 表中的记录总数</a></li>
<li><a href="http://blog.csdn.net/xiaohu_2012/article/details/16973025" target="_blank" rel="external">C# , SQLite 批量操作速度优化</a></li>
<li><a href="http://blog.sina.com.cn/s/blog_4cf05f9a01015sat.html" target="_blank" rel="external">C# 操作 Dataset 数据集与 SQLite 数据库</a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://bitky.cc/2016/09/12/mysql/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪中亮「123lml123」">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="比特麒麟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/12/mysql/" itemprop="url">
                  MySQL 数据库的自动备份操作
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-09-12T12:57:47+08:00">
                2016-09-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>MySQL 数据库中，对指定表实现按天自动备份的功能是比较有用的。</p>
<h1 id="1-预先条件"><a href="#1-预先条件" class="headerlink" title="1. 预先条件"></a>1. 预先条件</h1><ul>
<li>已正确安装 MySQL 并可开机自动运行</li>
<li>已将 MySQL 的工具添加到系统的环境变量中。</li>
</ul>
<h1 id="2-操作方法"><a href="#2-操作方法" class="headerlink" title="2. 操作方法"></a>2. 操作方法</h1><p>新建批处理文件，其中内容为：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">rem *******************************Code Start *****************************</span></div><div class="line">@<span class="built_in">echo</span> off</div><div class="line">mysqldump -u "用户名" --password="密码" "数据库名" &gt; "保存文件绝对地址及保存的文件名"</div><div class="line">@<span class="built_in">echo</span> on</div><div class="line"><span class="comment">rem ******************************* Code End *****************************</span></div><div class="line">```  </div><div class="line"></div><div class="line">我所配置的 .bat 文件内容为：</div><div class="line"></div><div class="line">```<span class="built_in">cmd</span></div><div class="line"><span class="comment">rem *******************************Code Start *****************************</span></div><div class="line">@<span class="built_in">echo</span> off</div><div class="line"><span class="built_in">set</span> "Ymd=<span class="variable">%date:~,4%</span><span class="variable">%date:~5,2%</span><span class="variable">%date:~8,2%</span>"</div><div class="line">mysqldump -u root --password=lml manager &gt; C:\MySQLBackup\manager_<span class="variable">%Ymd%</span>.sql</div><div class="line">@<span class="built_in">echo</span> on</div><div class="line"><span class="comment">rem ******************************* Code End *****************************</span></div></pre></td></tr></table></figure>
<h1 id="3-将此-bat-文件添加到系统计划任务中"><a href="#3-将此-bat-文件添加到系统计划任务中" class="headerlink" title="3. 将此 .bat 文件添加到系统计划任务中"></a>3. 将此 .bat 文件添加到系统计划任务中</h1><p>打开 “控制面板” -&gt; “计划任务程序” -&gt; “创建基本任务”<br>可以设置每天固定时间运行一次该 .bat 文件，即可实现每天自动对 MySQL 数据库进行备份</p>
<h1 id="4-参考资料"><a href="#4-参考资料" class="headerlink" title="4. 参考资料"></a>4. 参考资料</h1><p><a href="http://www.cnblogs.com/liongis/archive/2013/03/12/2956573.html" target="_blank" rel="external">Windows中，MySQL 自动备份的几种方法</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://bitky.cc/2016/07/04/openvpn/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪中亮「123lml123」">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="比特麒麟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/04/openvpn/" itemprop="url">
                  使用 OpenVPN 搭建虚拟专用网络
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-07-04T12:57:47+08:00">
                2016-07-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/其他/" itemprop="url" rel="index">
                    <span itemprop="name">其他</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-OpenVPN-简介"><a href="#1-OpenVPN-简介" class="headerlink" title="1. OpenVPN 简介"></a>1. OpenVPN 简介</h1><p>OpenVPN 是一个用于创建虚拟专用网络加密通道的软件包，最早由 James Yonan 编写。OpenVPN 允许创建的 VPN 使用公开密钥、电子证书、或者用户名／密码来进行身份验证。它大量使用了 OpenSSL 加密库中的 SSLv3 / TLSv1 协议函数库。目前 OpenVPN 能在 Solaris、Linux、OpenBSD、FreeBSD、NetBSD、Mac OS X 与 Microsoft Windows 以及 Android 和 iOS 上运行，并包含了许多安全性的功能。它并不是一个基于 Web 的 VPN 软件，也不与 IPsec 及其他 VPN 软件包兼容。</p>
<h2 id="1-1-OpenVPN-的配置原理"><a href="#1-1-OpenVPN-的配置原理" class="headerlink" title="1.1 OpenVPN 的配置原理"></a>1.1 OpenVPN 的配置原理</h2><p>OpenVPN 的配置工作主要分为如下两步：</p>
<ul>
<li><p>第一步，创建加密证书和私钥，其中包括服务器端和客户端都要用到的核心 CA 证书和私钥，服务器端自身的加密证书(即公钥)和私钥，以及每个客户端对应的加密证书和私钥。</p>
</li>
<li><p>第二步，为服务器和客户端编写对应的配置文件，然后将其与第一步中生成的相应证书、私钥放在 OpenVPN 安装目录的 config 文件夹下。</p>
</li>
</ul>
<p>OpenVPN 支持基于加密证书的双向认证。在 OpenVPN 中，不管是服务器还是客户端，所有的证书和私钥都需要由服务器端生成，客户端要先获得服务器端分配给它的加密证书和密钥才能成功连接。这与使用网上银行有些类似，大多数银行网站都会要求你先下载并安装一个数字证书，才允许你进行网上付款或其他操作。</p>
<h2 id="1-2-OpenVPN-的下载"><a href="#1-2-OpenVPN-的下载" class="headerlink" title="1.2 OpenVPN 的下载"></a>1.2 OpenVPN 的下载</h2><p>在 OpenVPN 的官网上，打开如下网页：</p>
<p><a href="https://openvpn.net/index.php/download/community-downloads.html" target="_blank" rel="external">https://openvpn.net/index.php/download/community-downloads.html</a></p>
<p>使用图片所示内容最后的下载链接，可下载到适用于 Windows Vista 及之后版本 Windows 系统的安装文件。本文以 OpenVPN 2.3.11 版本为例简要介绍 OpenVPN 的安装、配置、使用方法。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-204de9669fcbef05.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="OpenVPN 下载页面"></p>
<p>#2. OpenVPN 服务器端的配置</p>
<h2 id="2-1-OpenVPN-的安装"><a href="#2-1-OpenVPN-的安装" class="headerlink" title="2.1 OpenVPN 的安装"></a>2.1 OpenVPN 的安装</h2><p>打开 OpenVPN 的安装程序进行安装。在安装的过程中，要求选择安装内容，默认未选中 easy-rsa 「加密证书生成程序」，因此，我们必须手动勾选未选中的两个选项，之后如若询问是否安装 TAP-Win32 驱动程序，确认安装即可。</p>
<h2 id="2-2-创建加密证书和私钥"><a href="#2-2-创建加密证书和私钥" class="headerlink" title="2.2 创建加密证书和私钥"></a>2.2 创建加密证书和私钥</h2><p>1、使用文本编辑器 <strong>以管理员权限</strong> 打开并修改 OpenVPN 服务器端的 vars.bat.sample 文件「客户端的无需做任何修改」。vars.bat.sample 文件位于：</p>
<pre><code>OpenVPN\easy-rsa\vars.bat.sample
</code></pre><p>文本内容部分摘录如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">set HOME=%ProgramFiles%\OpenVPN\easy-rsa </div><div class="line"><span class="comment">//变量HOME表示easy-rsa文件夹的路径</span></div><div class="line"></div><div class="line">set KEY_CONFIG=openssl-<span class="number">1.0</span>.0.cnf </div><div class="line"><span class="comment">//变量KEY_SIZE表示生成的私钥大小，一般填写为1024或2048，默认为1024位，可根据自己的需要进行修改。</span></div><div class="line"></div><div class="line"><span class="comment">//由于稍后给客户端生成对应加密证书和私钥时，程序会要求我们输入一些注册信息。建议修改相关变量的默认值，这样在稍后生成客户端证书的时候，如果该信息项不输入就会采用默认值。</span></div><div class="line">set KEY_COUNTRY=CN <span class="comment">//国家(注：必须为两位字符)</span></div><div class="line">set KEY_PROVINCE=GuangXi <span class="comment">//省份</span></div><div class="line">set KEY_CITY=GuiLin <span class="comment">//城市</span></div><div class="line">set KEY_ORG=GUET <span class="comment">//机构</span></div><div class="line">set KEY_EMAIL=***@<span class="number">126</span>.com <span class="comment">//邮箱</span></div><div class="line">set KEY_CN=changeme <span class="comment">//证书的通用名称(Common Name),相当于帐户名 (eg, your name or your server's hostname)</span></div><div class="line">set KEY_NAME=changeme <span class="comment">//用户姓名</span></div><div class="line">set KEY_OU=changeme <span class="comment">//部门名 Organizational Unit Name (eg, section)</span></div><div class="line">set PKCS11_MODULE_PATH=changeme</div><div class="line">set PKCS11_PIN=<span class="number">1234</span></div></pre></td></tr></table></figure>
<p>按照如上所述进行修改，修改完毕后，保存，接下来进行配置操作</p>
<h2 id="2-3-使用控制台创建服务端和客户端证书"><a href="#2-3-使用控制台创建服务端和客户端证书" class="headerlink" title="2.3 使用控制台创建服务端和客户端证书"></a>2.3 使用控制台创建服务端和客户端证书</h2><p>在作为服务器端的电脑上，<strong>以管理员权限</strong> 打开 cmd , 并进入到</p>
<pre><code>OpenVPN\easy-rsa
</code></pre><p>然后依次执行如下命令：</p>
<pre><code>1. init-config「初始化配置，将 vars.bat.sample 文件的内容复制到 vars.bat。实际上，你也可以直接双击执行 easy-rsa 目录下的 init-config.bat 文件来代替这一步。」

2. vars「设置相应的局部环境变量，就是我们在 vars.bat.sample 文件中设置的内容」

3. clean-all「相关设置和清理工作」
</code></pre><p>命令执行结果如下所示：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">Microsoft Windows [版本 <span class="number">10</span>.<span class="number">0</span>.<span class="number">10586</span>]</div><div class="line">(c) <span class="number">2015</span> Microsoft Corporation。保留所有权利。</div><div class="line"><span class="function">C:\<span class="title">Windows</span>\<span class="title">system32</span>&gt;<span class="title">cd</span> <span class="title">C</span>:\<span class="title">Program</span> <span class="title">Files</span>\<span class="title">OpenVPN</span>\<span class="title">easy</span>-<span class="title">rsa</span></span></div><div class="line"><span class="title">C</span>:\<span class="title">Program</span> <span class="title">Files</span>\<span class="title">OpenVPN</span>\<span class="title">easy</span>-<span class="title">rsa</span>&gt;<span class="title">init</span>-<span class="title">config</span></div><div class="line"><span class="title">C</span>:\<span class="title">Program</span> <span class="title">Files</span>\<span class="title">OpenVPN</span>\<span class="title">easy</span>-<span class="title">rsa</span>&gt;<span class="title">copy</span> <span class="title">vars.bat.sample</span> <span class="title">vars.bat</span></div><div class="line">已复制         1 个文件。</div><div class="line"><span class="title">C</span>:\<span class="title">Program</span> <span class="title">Files</span>\<span class="title">OpenVPN</span>\<span class="title">easy</span>-<span class="title">rsa</span>&gt;<span class="title">vars</span></div><div class="line"><span class="title">C</span>:\<span class="title">Program</span> <span class="title">Files</span>\<span class="title">OpenVPN</span>\<span class="title">easy</span>-<span class="title">rsa</span>&gt;<span class="title">clean</span>-<span class="title">all</span></div><div class="line">系统找不到指定的文件。   //有时候会出现此句提示，可以被忽略</div><div class="line">已复制         1 个文件。</div><div class="line">已复制         1 个文件。</div></pre></td></tr></table></figure>
<p>接下来执行如下命令：</p>
<pre><code>4. build-ca「创建 CA 根证书及 key」
</code></pre><p>此处可修改此前预先设置的注册信息。</p>
<pre><code>5. build-key-server server「创建服务端证书及 key，其中『server』可以自由设定」
</code></pre><p>命令执行结果如下所示：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function">C:\<span class="title">Program</span> <span class="title">Files</span>\<span class="title">OpenVPN</span>\<span class="title">easy</span>-<span class="title">rsa</span>&gt;<span class="title">build</span>-<span class="title">key</span>-<span class="title">server</span> <span class="title">server</span></span></div><div class="line"><span class="title">Common</span> <span class="title">Name</span> (<span class="title">eg</span>, <span class="title">your</span> <span class="title">name</span> <span class="title">or</span> <span class="title">your</span> <span class="title">server</span>'<span class="title">s</span> <span class="title">hostname</span>) [<span class="title">changeme</span>]:此处输入账户名</div><div class="line"><span class="title">A</span> <span class="title">challenge</span> <span class="title">password</span> []:此处输入密码</div><div class="line"></div><div class="line"><span class="title">Certificate</span> <span class="title">is</span> <span class="title">to</span> <span class="title">be</span> <span class="title">certified</span> <span class="title">until</span> <span class="title">Jul</span>  2 12:07:01 2026 <span class="title">GMT</span> (3650 <span class="title">days</span>)</div><div class="line"><span class="title">Sign</span> <span class="title">the</span> <span class="title">certificate</span>? [<span class="title">y</span>/<span class="title">n</span>]:<span class="title">y</span></div><div class="line">1 <span class="title">out</span> <span class="title">of</span> 1 <span class="title">certificate</span> <span class="title">requests</span> <span class="title">certified</span>, <span class="title">commit</span>? [<span class="title">y</span>/<span class="title">n</span>]<span class="title">y</span></div></pre></td></tr></table></figure>
<p>命令中的参数 <code>server</code> 指的是生成的证书文件名称，你可以按照自己的需要进行修改，不过后面的 <code>Common Name</code> 也应保持一致。最后程序会询问你是否注册并提交证书，两次均输入 y 即可。</p>
<pre><code>6. build-dh「创建迪菲·赫尔曼密钥，生成 1024 bit 的key」
</code></pre><p>迪菲·赫尔曼密钥交换「Diffie–Hellman key exchange , 简称『D–H』」是一种安全协议。它可以让双方在完全没有对方任何预先信息的条件下通过不安全信道创建起一个密钥。这个密钥可以在后续的通讯中作为对称密钥来加密通讯内容。</p>
<pre><code>7. build-key client「创建客户端证书及 key , 其中 `client` 可以自由设定」
</code></pre><p>此处如同第 5 步服务器部分的设置。</p>
<pre><code>8. openvpn --genkey --secret keys/ta.key「可选操作，生成 ta.key」
</code></pre><p>这一步是可选操作，生成的 ta.key 主要用于防御 DoS、UDP 淹没等恶意攻击。命令中的第 3 个参数 keys / ta.key 表示生成的文件路径「含文件名」。</p>
<p>创建完证书后，我们会发现 easy-rsa 目录下多了一个 keys 文件夹。但如果参数填写不恰当，可能生成一些 0 字节的 crt 文件，那么就得重新生成证书。生成结束后，可按照如下表格分别将文件拷贝到客户端和服务端的 config 目录中。</p>
<p>服务器端 config 目录需要的文件包括：</p>
<table>
<thead>
<tr>
<th>文件名</th>
<th style="text-align:left">位置</th>
<th style="text-align:left">用途</th>
<th style="text-align:center">保密</th>
<th style="text-align:center">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>ca.crt</td>
<td style="text-align:left">server + all clients</td>
<td style="text-align:left">Root CA certificate</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">核心 CA 证书</td>
</tr>
<tr>
<td>ca.key</td>
<td style="text-align:left">key signing machine only</td>
<td style="text-align:left">Root CA key</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">核心 CA 私钥</td>
</tr>
<tr>
<td>dh1024.pem</td>
<td style="text-align:left">server only</td>
<td style="text-align:left">Diffie Hellman parameters</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">如果最初的变量 KEY_SIZE 设为 2048，这里就是 dh2048.pem</td>
</tr>
<tr>
<td>server.crt</td>
<td style="text-align:left">server only</td>
<td style="text-align:left">Server Certificate</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">名称 server 根据个人设置有所不同</td>
</tr>
<tr>
<td>server.key</td>
<td style="text-align:left">server only</td>
<td style="text-align:left">Server Key</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">名称 server 根据个人设置有所不同</td>
</tr>
<tr>
<td>ta.key</td>
<td style="text-align:left">server + all clients</td>
<td style="text-align:left">防御 DoS、UDP 淹没等恶意攻击</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">名称也可自行设置，如果不需要防御攻击，可以不创建或复制此文件</td>
</tr>
</tbody>
</table>
<hr>
<p>客户端 config 目录需要的文件包括：</p>
<table>
<thead>
<tr>
<th>文件名</th>
<th style="text-align:left">位置</th>
<th style="text-align:left">用途</th>
<th style="text-align:center">保密</th>
<th style="text-align:center">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>ca.crt</td>
<td style="text-align:left">server + all clients</td>
<td style="text-align:left">Root CA certificate</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">核心 CA 证书</td>
</tr>
<tr>
<td>client.crt</td>
<td style="text-align:left">client only</td>
<td style="text-align:left">Client Certificate</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">名称 client 根据个人设置有所不同</td>
</tr>
<tr>
<td>client1.key</td>
<td style="text-align:left">client only</td>
<td style="text-align:left">Client Key</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">名称 client 根据个人设置有所不同</td>
</tr>
<tr>
<td>ta.key</td>
<td style="text-align:left">server + all clients</td>
<td style="text-align:left">防御 DoS、UDP 淹没等恶意攻击</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">名称也可自行设置，如果不需要防御攻击，可以不创建或复制此文件</td>
</tr>
</tbody>
</table>
<hr>
<p><strong>重要提醒</strong>：以上命令都在同一 cmd 中执行，如果你以后需要打开新窗口来执行命令(比如创建新的客户端证书)：你不需要再执行 init-config 命令，除非你再次改动了 vars.bat.sample 文件；每一次打开新窗口时都需要先执行 vars 命令，后面才能执行其他命令。</p>
<hr>
<p><strong>附</strong>：若要撤销 client2 证书，则执行以下命令：</p>
<pre><code>vars
revoke-full client2
</code></pre><p>此时得到 crl.pem 文件，之后在服务端执行如下命令：</p>
<pre><code>crl-verify crl.pem
</code></pre><h1 id="3-配置文件的修改与部署"><a href="#3-配置文件的修改与部署" class="headerlink" title="3. 配置文件的修改与部署"></a>3. 配置文件的修改与部署</h1><p>上面已创建 OpenVPN 配置所需要的各种证书和私钥，现在可以为服务器和客户端设置对应的配置文件。</p>
<p>在 OpenVPN 的安装目录的 sample-config 文件夹中存放有 3 个示例模板文件 : server.ovpn、client.ovpn、sample.ovpn 。其中：</p>
<ul>
<li>server.ovpn 是服务器的配置模板</li>
<li>client.ovpn 是客户端的配置模板</li>
<li>sample.ovpn 也可用作客户端配置模板，不过配置比较简单，不够全面。</li>
</ul>
<p>按照官方的说法 , client.ovpn 可用于连接具有多个客户端的服务器端。</p>
<p>复制 server.ovpn 到服务器的 config 目录 , client.ovpn 到客户端的 config 目录，并在此基础上进行修改。在 OpenVPN 的配置文件中，前面带「#」或「;」的表示注释内容。</p>
<h2 id="3-1-配置文件的简单使用"><a href="#3-1-配置文件的简单使用" class="headerlink" title="3.1  配置文件的简单使用"></a>3.1  配置文件的简单使用</h2><ul>
<li>修改客户端的 client.ovpn 的 remote 项，让它指向服务端外部 IP 地址，格式例如 : remote x.x.x.x 1194 , 1194 是服务端定义的端口，这个可以通过服务端的配置文件修改，服务端和客户端端口必须匹配。</li>
<li>证书：在第 92, 93 行的「大概」位置，修改指定的 crt 和 key 文件，与之生成的证书文件名匹配。</li>
</ul>
<h2 id="3-2-编辑服务器端配置文件"><a href="#3-2-编辑服务器端配置文件" class="headerlink" title="3.2 编辑服务器端配置文件"></a>3.2 编辑服务器端配置文件</h2><p>server.ovpn 中所有用到的命令如下 : </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">local 192.168.0.2     #指定监听的本机 IP「因为有些计算机具备多个IP地址」，该命令是可选的，默认监听所有 IP 地址。</div><div class="line">port 1194             #指定监听的本机端口号</div><div class="line">proto udp             #指定采用的传输协议，可以选择 tcp 或 udp</div><div class="line">dev tun               #指定创建的通信隧道类型，可选 tun 或 tap</div><div class="line">ca ca.crt             #指定 CA 证书的文件路径</div><div class="line">cert server.crt       #指定服务器端的证书文件路径</div><div class="line">key server.key    #指定服务器端的私钥文件路径</div><div class="line">dh dh1024.pem         #指定迪菲赫尔曼参数的文件路径</div><div class="line">server 10.0.0.0 255.255.255.0   #指定虚拟局域网占用的 IP 地址段和子网掩码，此处配置的服务器自身占用 10.0.0.1。</div><div class="line">ifconfig-pool-persist ipp.txt   #服务器自动给客户端分配 IP 后，客户端下次连接时，仍然采用上次的 IP 地址(第一次分配的IP保存在 ipp.txt中，下一次分配其中保存的 IP)。</div><div class="line">tls-auth ta.key 0     #开启 TLS，使用 ta.key 防御攻击。服务器端的第二个参数值为 0，客户端的为 1。</div><div class="line">keepalive 10 120      #每 10 秒 ping 一次，连接超时时间设为 120 秒。</div><div class="line">comp-lzo              #开启 VPN 连接压缩，如果服务器端开启，客户端也必须开启</div><div class="line">client-to-client      #允许客户端与客户端相连接，默认情况下客户端只能与服务器相连接</div><div class="line">persist-key</div><div class="line">persist-tun           #持久化选项可以尽量避免访问在重启时由于用户权限降低而无法访问的某些资源。</div><div class="line">status openvpn-status.log    #指定记录 OpenVPN 状态的日志文件路径</div><div class="line">verb 3                #指定日志文件的记录详细级别，可选 0 - 9，等级越高日志内容越详细</div></pre></td></tr></table></figure>
<h2 id="3-3-编辑客户端配置文件"><a href="#3-3-编辑客户端配置文件" class="headerlink" title="3.3 编辑客户端配置文件"></a>3.3 编辑客户端配置文件</h2><p>client.ovpn 中所有用到的命令如下 : </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">client         #指定当前 VPN 是客户端</div><div class="line">dev tun        #必须与服务器端的保持一致</div><div class="line">proto udp      #必须与服务器端的保持一致</div><div class="line">remote 192.168.0.2 1194      //指定连接的远程服务器的实际 IP 地址和端口号</div><div class="line">resolv-retry infinite    #断线自动重新连接，在网络不稳定的情况下「例如：笔记本电脑无线网络」非常有用。</div><div class="line">nobind         #不绑定特定的本地端口号</div><div class="line">persist-key</div><div class="line">persist-tun</div><div class="line">ca ca.crt      #指定 CA 证书的文件路径</div><div class="line">cert client.crt       //指定当前客户端的证书文件路径</div><div class="line">key client.key    //指定当前客户端的私钥文件路径</div><div class="line">ns-cert-type server      #指定采用服务器校验方式</div><div class="line">tls-auth ta.key 1     //如果服务器设置了防御 DoS 等攻击的 ta.key，则必须每个客户端开启；如果未设置，则注释掉这一行；</div><div class="line">comp-lzo              #与服务器保持一致</div><div class="line">verb 3                #指定日志文件的记录详细级别，可选 0 - 9，等级越高日志内容越详细</div></pre></td></tr></table></figure>
<h1 id="4-OpenVPN-的启用"><a href="#4-OpenVPN-的启用" class="headerlink" title="4. OpenVPN 的启用"></a>4. OpenVPN 的启用</h1><p>生成、修改、保存完毕后，我们可以在服务器端及客户端分别配置如下内容：</p>
<p>在服务器端 OpenVPN 安装目录的 config 文件夹下应包含如下文件：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-f54bdaf3806f43d3?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="服务器端config文件夹"></p>
<p>在客户端 OpenVPN 安装目录的 config 文件夹下应包含如下文件：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-25f2ee1b7a44fc85?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="客户端config文件夹"></p>
<h1 id="5-参考链接"><a href="#5-参考链接" class="headerlink" title="5. 参考链接"></a>5. 参考链接</h1><ol>
<li><a href="https://zh.wikipedia.org/wiki/OpenVPN" target="_blank" rel="external">OpenVPN 维基百科</a></li>
<li><a href="https://openvpn.net/index.php/access-server/overview.html" target="_blank" rel="external">OpenVPN 官方网站</a></li>
<li><a href="http://blog.csdn.net/joyous/article/details/38048425" target="_blank" rel="external">FreeBSD 平台 OpenVPN 的安装、配置客户端和服务端</a></li>
<li><a href="http://www.365mini.com/page/14.htm" target="_blank" rel="external">OpenVPN 下载、安装、配置及使用详解</a></li>
<li><a href="http://blog.csdn.net/joyous/article/details/8034132" target="_blank" rel="external">OpenVPN 安装、配置客户端和服务端，以及 OpenVPN 的使用「Windows 平台」</a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://bitky.cc/2016/06/11/android/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪中亮「123lml123」">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="比特麒麟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/11/android/" itemprop="url">
                  Android Studio 第三方库的导入「以 Volley 为例」
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-11T12:57:47+08:00">
                2016-06-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>「注」</strong>本文可能已过时。</p>
</blockquote>
<h1 id="1-获取-Volley"><a href="#1-获取-Volley" class="headerlink" title="1. 获取 Volley"></a>1. 获取 Volley</h1><p>在 Git 中使用如下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git clone https://android.googlesource.com/platform/frameworks/volley</div></pre></td></tr></table></figure>
<h1 id="2-传统风格库源码打包为-Jar-文件"><a href="#2-传统风格库源码打包为-Jar-文件" class="headerlink" title="2. 传统风格库源码打包为 Jar 文件"></a>2. 传统风格库源码打包为 Jar 文件</h1><h2 id="2-1-配置-Ant-环境变量"><a href="#2-1-配置-Ant-环境变量" class="headerlink" title="2.1 配置 Ant 环境变量"></a>2.1 配置 Ant 环境变量</h2><p>Ant 是一个将软件编译、测试、部署等步骤联系在一起加以自动化的一个工具，大多用于 Java 环境中的软件开发。在实际软件开发中，有很多地方可以用到 Ant 。以下 Ant 的配置方法：</p>
<ol>
<li>首先登录 Ant 的官方网站 <a href="http://ant.apache.org/bindownload.cgi" target="_blank" rel="external">http://ant.apache.org/bindownload.cgi</a> , 下载 apache-ant-X.X.X-bin.zip 。这是 Ant 要使用的类库。</li>
<li>配置 Windows 的环境变量，将 <code>%ANT_HOME%/bin</code> 以及 <code>%ANT_HOME%/lib</code> 添加至 path 环境变量中</li>
<li>在命令提示符中输入 <code>ant -version</code>，如果正常输出，说明 Ant 配置成功。</li>
</ol>
<h2 id="2-2-配置-Android-SDK-环境变量"><a href="#2-2-配置-Android-SDK-环境变量" class="headerlink" title="2.2 配置 Android SDK 环境变量"></a>2.2 配置 Android SDK 环境变量</h2><ol>
<li>在 path 系统环境变量中添加 <code>&quot;;%ANDROID_HOME%\platform-tools&quot;</code> 。 </li>
<li>在命令提示符中输入 adb, 如果下方出现： <code>Android Debug Bridge version ...</code> 等多行文字，说明配置成功。</li>
</ol>
<h2 id="2-3-打包为-Jar-文件"><a href="#2-3-打包为-Jar-文件" class="headerlink" title="2.3 打包为 Jar 文件"></a>2.3 打包为 Jar 文件</h2><p>在第三方库源码工程目录下，使用 cmd 执行如下命令：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">android update project -p</div><div class="line">ant jar</div></pre></td></tr></table></figure>
<p>即可成功打包为 Jar 文件，之后直接在 Android Studio 项目中使用 <code>compile files(&#39;libs/volley.jar&#39;)</code> 来导入 Jar 。</p>
<h1 id="3-Gradle-风格第三方库导入工程"><a href="#3-Gradle-风格第三方库导入工程" class="headerlink" title="3. Gradle 风格第三方库导入工程"></a>3. Gradle 风格第三方库导入工程</h1><h2 id="3-1-直接将开源项目导入到本地工程中"><a href="#3-1-直接将开源项目导入到本地工程中" class="headerlink" title="3.1 直接将开源项目导入到本地工程中"></a>3.1 直接将开源项目导入到本地工程中</h2><p>使用经典的方式来设置 Volley, 将源码作为一个 Module 导入。<br>在 Android Studio 中，在打开项目的情况下，选择 File &gt; New Module , 然后选择 Import Existing Project 。选择你下载的源码的所在目录然后确认。一个名为 Volley 的文件夹将出现在你的项目结构中。Android Studio 会自动的更新 settings.gradle 文件以包含 Volley module , 因此你只需添加你的依赖：</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">compile</span> <span class="keyword">project</span>(<span class="string">':volley'</span>)</div></pre></td></tr></table></figure>
<p>##3.2 把开源项目打包为 Jar 文件</p>
<p>Gradle 工具位于如下位置：</p>
<ol>
<li><android studio="">\gradle\gradle-2.2.1\bin</android></li>
<li>C:\Users\<user>.gradle\wrapper\dists\gradle … …</user></li>
</ol>
<p>将 Gradle 工具的 bin 目录添加到 Path 中，在第三方库目录下，使用 cmd 执行如下命令：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gradle build</div></pre></td></tr></table></figure>
<p>编译完成后在Volley目录下会生成一个 <code>build\intermediates\bundles\release</code> 目录，Jar 文件就在里面，名字为 classes.jar，重命名下就可以了。<strong>注：此方法可能会失败</strong></p>
<h1 id="4-参考资料"><a href="#4-参考资料" class="headerlink" title="4. 参考资料"></a>4. 参考资料</h1><ol>
<li><a href="http://blog.csdn.net/houyu_1983/article/details/9129031" target="_blank" rel="external">Android 使用 Ant 编译 APK</a></li>
<li><a href="http://blog.csdn.net/nomousewch/article/details/18983351" target="_blank" rel="external"> Windows 环境下搭建 Android 开发环境「完整」</a></li>
<li><a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0526/2934.html" target="_blank" rel="external">网络请求库 Volley 详解</a></li>
<li><a href="http://blog.csdn.net/taowenyin/article/details/43935245" target="_blank" rel="external">最新 Volley 框架的 Jar 文件生成</a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://bitky.cc/2016/06/04/qt/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪中亮「123lml123」">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="比特麒麟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/04/qt/" itemprop="url">
                  Qt 程序在 Windows 下的发布
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-04T12:57:47+08:00">
                2016-06-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/其他/" itemprop="url" rel="index">
                    <span itemprop="name">其他</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>本文讨论在 Windows 平台下编译成功的 Qt 程序，如何在未配置 Qt 开发环境的 Windows 平台下独立运行的方法。</p>
<p>经过验证发现，在 Ubuntu 平台下编译成功的程序可在未安装 Qt 开发环境下的 Ubuntu16.04 中运行，所以，本文仅讨论，在 Windows 平台下编译成功的 Qt 程序，在未配置 Qt 开发环境的 Windows 平台下独立运行的方法。</p>
<h1 id="1-编译模式选择"><a href="#1-编译模式选择" class="headerlink" title="1. 编译模式选择"></a>1. 编译模式选择</h1><p>如若想要发布程序，在 IDE 中编译一定要选择 <code>release</code> 而不是 <code>debug</code>，编译成 release 版本相比于 debug 版本，程序体积「可执行文件和 dll 文件」大大减小；</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-e70ab1436031e96a.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="编译模式选择"></p>
<h1 id="2-集成所需-dll-文件及其他依赖库"><a href="#2-集成所需-dll-文件及其他依赖库" class="headerlink" title="2. 集成所需 dll 文件及其他依赖库"></a>2. 集成所需 dll 文件及其他依赖库</h1><p>编译为 release 版本之后，找到生成的目录，其中只有 exe 扩展名的可执行文件是有用的。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-4914327e2b68e1c7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="编译生成目录"></p>
<p>直接打开可执行文件，会提示找不到 dll 文件，解决方法如下：</p>
<h2 id="2-1-使用-Qt-自带的-windeployqt-exe-寻找依赖文件"><a href="#2-1-使用-Qt-自带的-windeployqt-exe-寻找依赖文件" class="headerlink" title="2.1 使用 Qt 自带的 windeployqt.exe 寻找依赖文件"></a>2.1 使用 Qt 自带的 windeployqt.exe 寻找依赖文件</h2><p>在 cmd 中，运行如下命令：</p>
<pre><code>&lt;Qt目录&gt;\Qt5.5.1\5.5\mingw492_32\bin\windeployqt.exe   &lt;*.exe&gt;
</code></pre><p>程序会找到该可执行程序所需的所有依赖文件，并集成进该可执行文件所在的目录：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-7739077a505e4702.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=" windeployqt 寻找依赖"></p>
<p>有时程序会提示找不到所需的 gcc.exe，只需要将随 Qt 安装的 mingw 的 bin 目录添加到系统的环境变量中即可。之后执行可执行文件即可成功运行。</p>
<h2 id="2-2-手动集成所需的依赖文件"><a href="#2-2-手动集成所需的依赖文件" class="headerlink" title="2.2 手动集成所需的依赖文件"></a>2.2 手动集成所需的依赖文件</h2><p>这里，我们可以用 Process Explore 来获取所依赖的 dll 文件「Dependency Walker软件也是不错的选择」</p>
<p>打开 procexp.exe，选择菜单  -&gt; View -&gt; Lower Pane View -&gt;DLLs 勾选此选项，显示 dll 窗口。</p>
<p>在 Qt Creater 中，调试运行要发布的程序，在 Process Explore 中，找到该 exe 文件并选中，在下面就看到依赖的 dll 了。</p>
<p><strong>Process Explore寻找依赖</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-6783734efb183a1f.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Process Explore寻找依赖"></p>
<p><strong>Dependency Walker寻找依赖</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-aed9be7ec425b998.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Dependency Walker寻找依赖"></p>
<p>系统目录下的，一般不用关心，按 Path 排序，寻找 Qt 目录及 mingw 目录下的 dll 文件，将这些 dll 拷贝至发布程序目录下。</p>
<p>以 mingw 版 Qt 为例「VS版本安装目录有些许不同」，dll 文件在 Qt 安装目录下：</p>
<pre><code>&lt;Qt安装目录&gt;\Qt5.5.1\5.5\mingw492_32\bin
</code></pre><p>找到所有所需的 dll 文件，复制到要发布程序的目录下</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-10484e100e40ee3f.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Qt运行目录"></p>
<p>例如，本程序需要如下依赖：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-dba69eaa834ea797.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="该程序所需依赖"></p>
<h1 id="3-打包为单个可执行文件"><a href="#3-打包为单个可执行文件" class="headerlink" title="3. 打包为单个可执行文件"></a>3. 打包为单个可执行文件</h1><p>打包工具，这里选用 Enigma Virtual Box，运行软件，选择发布程序的可执行文件路径以及生成文件的路径，左下角的“添加”按钮添加所有的 dll 文件，不包含刚才选择的 exe 文件。点击右下角的「文件选项」，选中「启用文件虚拟化」以及「压缩文件」，如图所示：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1555570-6d3b68fb05ddee95.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Enigma Virtual Box的使用"></p>
<p>最后点击右下角的“执行封包”，生成的 exe 文件的容量小了很多，并且这是一个纯粹的「绿色软件」，直接复制就能在任何存储介质上运行了。</p>
<h1 id="4-Qt5-主要依赖链接库说明"><a href="#4-Qt5-主要依赖链接库说明" class="headerlink" title="4. Qt5 主要依赖链接库说明"></a>4. Qt5 主要依赖链接库说明</h1><h2 id="4-1-Qt-模块库"><a href="#4-1-Qt-模块库" class="headerlink" title="4.1 Qt 模块库"></a>4.1 Qt 模块库</h2><ul>
<li>Qt5Core.dll      #QT核心库</li>
<li>Qt5Gui.dll       #QT Gui库</li>
<li>Qt5Widgets.dll   #QT Widgets库，QT 5中GUI程序基本都需要此dll</li>
<li>还有其他程序用到的Qt5XXX.dll</li>
</ul>
<h2 id="4-2-ICU-依赖库「International-Component-for-Unicode，Unicode工具」"><a href="#4-2-ICU-依赖库「International-Component-for-Unicode，Unicode工具」" class="headerlink" title="4.2 ICU 依赖库「International Component for Unicode，Unicode工具」"></a>4.2 ICU 依赖库「International Component for Unicode，Unicode工具」</h2><ul>
<li>icudt51.dll     </li>
<li>icuin51.dll    </li>
<li>icuuc51.dll   </li>
</ul>
<hr>
<h2 id="4-3-Qt-插件库「新增库，路径必须正确」"><a href="#4-3-Qt-插件库「新增库，路径必须正确」" class="headerlink" title="4.3 Qt 插件库「新增库，路径必须正确」"></a>4.3 Qt 插件库「新增库，路径必须正确」</h2><p>根据不同的程序，需要不同的插件库。例如 <code>QT_DIR/plugins/*/*.dll</code>，需要将 <code>platforms/*.dll</code> , <code>accessible/*.dll</code> 的文件结构保留，放在你所编译的程序所在目录，例如：</p>
<pre><code>plugins/platforms/qwindows.dll
plugins/accessible/qtaccessiblewidgets.dll
</code></pre><hr>
<h2 id="4-4-EGL-依赖库，为-OpenGL-OpenGLes-提供接口"><a href="#4-4-EGL-依赖库，为-OpenGL-OpenGLes-提供接口" class="headerlink" title="4.4 EGL 依赖库，为 OpenGL, OpenGLes 提供接口"></a>4.4 EGL 依赖库，为 OpenGL, OpenGLes 提供接口</h2><ul>
<li>libEGL.dll</li>
<li>libGLESv2.dll</li>
</ul>
<hr>
<h2 id="4-5-mingw-依赖库「msvc-编译则无需这些库」"><a href="#4-5-mingw-依赖库「msvc-编译则无需这些库」" class="headerlink" title="4.5 mingw 依赖库「msvc 编译则无需这些库」"></a>4.5 mingw 依赖库「msvc 编译则无需这些库」</h2><ul>
<li>libgcc_s_dw2-1.dll</li>
<li>libstdc++-6.dll</li>
<li>libwinpthread-1.dll</li>
</ul>
<h2 id="4-6-VC-运行库「mingw-编译则无需这些库」"><a href="#4-6-VC-运行库「mingw-编译则无需这些库」" class="headerlink" title="4.6 VC 运行库「mingw 编译则无需这些库」"></a>4.6 VC 运行库「mingw 编译则无需这些库」</h2><ul>
<li>msvcr110.dll「对应VS2012」</li>
<li>msvcp110.dll</li>
</ul>
<h2 id="5-参考资料"><a href="#5-参考资料" class="headerlink" title="5. 参考资料"></a>5. 参考资料</h2><ol>
<li><a href="http://blog.sina.com.cn/s/blog_66cd08930102w74s.html" target="_blank" rel="external">Qt 5.5 程序打包发布以及依赖</a></li>
<li><a href="http://blog.chinaunix.net/uid-24641004-id-3427565.html" target="_blank" rel="external">Qt 在 Windows 上发布之所需运行库「一」</a></li>
<li><a href="http://www.qtcn.org/bbs/apps.php?q=diary&amp;a=detail&amp;did=1336&amp;uid=123401" target="_blank" rel="external">将 Qt 动态链接生成的 exe 及依赖 dll 打包方法</a></li>
<li><a href="http://www.51hei.com/mcu/3195.html" target="_blank" rel="external">Qt 5 编译 &amp; 打包依赖 dll 发布</a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://bitky.cc/2016/04/15/sublime/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪中亮「123lml123」">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="比特麒麟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/04/15/sublime/" itemprop="url">
                  Sublime Text 3 基本配置教程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-15T12:57:47+08:00">
                2016-04-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/其他/" itemprop="url" rel="index">
                    <span itemprop="name">其他</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>以下链接是一篇很好的 Sublime Text 中文教程+配置教程</p>
<blockquote>
<p><a href="http://lucida.me/blog/sublime-text-complete-guide/" target="_blank" rel="external">http://lucida.me/blog/sublime-text-complete-guide/</a></p>
</blockquote>
<h1 id="1-修改-Sublime-Text-的默认配置文件位置"><a href="#1-修改-Sublime-Text-的默认配置文件位置" class="headerlink" title="1. 修改 Sublime Text 的默认配置文件位置"></a>1. 修改 Sublime Text 的默认配置文件位置</h1><p>默认情况下安装完 Sublime Text 3 , 在第一次运行的时候 , Sublime Text 3 会在 %appdata% 目录下生成一个 Sublime Text 3 的文件夹，用于存放配置文件，以及后面安装的各种插件；为便于设置完后打包，建议将配置文件位置改到安装目录下。</p>
<p>安装完 Sublime Text 3 后，不要直接运行找到 Sublime Text 3 的安装目录，并在该目录下新建 Data 文件夹(注意大小写)。如果已经运行了，请先在地址栏输入 %appdata% 然后删除该目录下的 Sublime Text 3 文件夹。完成这一步之后再打开 Sublime Text 3 所有的配置文件都会被生成在 Data 文件夹中了。</p>
<blockquote>
<p><a href="http://jingyan.baidu.com/article/6f2f55a15c89cab5b93e6cfb.html" target="_blank" rel="external">引用地址</a></p>
</blockquote>
<hr>
<h1 id="2-注册SublimeText-3"><a href="#2-注册SublimeText-3" class="headerlink" title="2. 注册SublimeText 3"></a>2. 注册SublimeText 3</h1><p>打开「sublime_text.exe」-&gt; help -&gt; License，粘贴即可。<br>这个经过测试，可以使用，如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">----- BEGIN LICENSE ----- </div><div class="line">Andrew Weber </div><div class="line">Single User License </div><div class="line">EA7E-855605 </div><div class="line">813A03DD 5E4AD9E6 6C0EEB94 BC99798F </div><div class="line">942194A6 02396E98 E62C9979 4BB979FE </div><div class="line">91424C9D A45400BF F6747D88 2FB88078 </div><div class="line">90F5CC94 1CDC92DC 8457107A F151657B </div><div class="line">1D22E383 A997F016 42397640 33F41CFC </div><div class="line">E1D0AE85 A0BBD039 0E9C8D55 E1B89D5D </div><div class="line">5CDB7036 E56DE1C0 EFCC0840 650CD3A6 </div><div class="line">B98FC99C 8FAC73EE D2B95564 DF450523 </div><div class="line">------ END LICENSE ------</div></pre></td></tr></table></figure></p>
<p><strong>注意: </strong> —– BEGIN LICENSE —– 和—— END LICENSE —— 都要复制粘贴进去。</p>
<p><a href="http://www.cnblogs.com/akwwl/p/3566445.html" target="_blank" rel="external">引用地址</a></p>
<hr>
<h1 id="3-Sublime-Text-3-汉化"><a href="#3-Sublime-Text-3-汉化" class="headerlink" title="3. Sublime Text 3 汉化"></a>3. Sublime Text 3 汉化</h1><p>点击 Preferences -&gt; Package Control , 然后点击 Package Control : Install Package , (第一次运行可以要几秒钟，因为要下载 Package Control 里面存在的包”花名册”），然后在弹出的命令界面，输入 Chinese , 选择 ChineseLocalization (回车或者鼠标单击)。</p>
<p>切换语言，帮助(H) -&gt; Language -&gt; 简体中文，繁体中文，日本语，English。</p>
<p><a href="http://jingyan.baidu.com/article/ae97a646c814ccbbfd461d24.html" target="_blank" rel="external">引用地址</a></p>
<hr>
<h1 id="4-最新推荐"><a href="#4-最新推荐" class="headerlink" title="4. 最新推荐"></a>4. 最新推荐</h1><p>现在推荐流风轻音制作的 Sublime Text 3 Build 3103 优化版</p>
<ol>
<li><a href="http://haojian138.blog.163.com/blog/static/212643110201393010438357/" target="_blank" rel="external">Sublime Text 3 Build 3103 优化版</a></li>
<li><a href="http://haojian138.blog.163.com/" target="_blank" rel="external">流风清音的博客</a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://bitky.cc/2016/04/15/android/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="雪中亮「123lml123」">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="比特麒麟">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/04/15/android/" itemprop="url">
                  「转」电子地图坐标系统研究整理
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-15T12:57:47+08:00">
                2016-04-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/其他/" itemprop="url" rel="index">
                    <span itemprop="name">其他</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>本文由文末的参考链接整理、整合、修改而成</p>
</blockquote>
<h1 id="1-电子地图坐标系统简介"><a href="#1-电子地图坐标系统简介" class="headerlink" title="1. 电子地图坐标系统简介"></a>1. 电子地图坐标系统简介</h1><ul>
<li>WGS-84 坐标系：即地球坐标系，国际经纬度坐标标准</li>
<li>GCJ-02 坐标系：即火星坐标系，WGS84 坐标系经加密后的坐标系，国测局制定。</li>
<li>BD-09 坐标系：即百度坐标系，GCJ02 坐标系经加密后的坐标系。</li>
</ul>
<p>GCJ-02 坐标系统，就是在标准的 WGS-84 坐标系统上进行了人为的偏移，比如 Google 地图、腾讯 SOSO 地图等就是直接使用了国家 GCJ-02 坐标系统，我们有一个不成文的说法，前者叫地球坐标，后者叫火星坐标，并且，火星坐标是无法转换成地球坐标的「网上虽然有一定的方法，但基本上都是基于偏移数据库，精度较高的数据库需要购买，当然这都是一种破解手段」。</p>
<p>所有的电子地图、导航设备，都需要加入国家保密插件。第一步，地图公司测绘地图，测绘完成后，送到国家测绘局，将真实坐标的电子地图，加密成“火星坐标”，这样的地图才是可以出版和发布的，然后才可以让 GPS 公司处理。第二步，所有的 GPS 公司，只要需要汽车导航的，需要用到导航电子地图的，都需要在软件中加入国家保密算法，将 COM 口读出来的真实的坐标信号，加密转换成国家要求的保密的坐标。这样，GPS 导航仪和导航电子地图就可以完全匹配，GPS 也就可以正常工作了。</p>
<table>
<thead>
<tr>
<th>API</th>
<th style="text-align:center">坐标系</th>
</tr>
</thead>
<tbody>
<tr>
<td>百度地图 API</td>
<td style="text-align:center">百度坐标</td>
</tr>
<tr>
<td>腾讯搜搜地图 API</td>
<td style="text-align:center">火星坐标</td>
</tr>
<tr>
<td>搜狐搜狗地图 API</td>
<td style="text-align:center"><strong>搜狗坐标</strong></td>
</tr>
<tr>
<td>阿里云地图 API</td>
<td style="text-align:center">火星坐标</td>
</tr>
<tr>
<td>图吧 MapBar 地图 API</td>
<td style="text-align:center">图吧坐标</td>
</tr>
<tr>
<td>高德 MapABC 地图 API</td>
<td style="text-align:center">火星坐标</td>
</tr>
<tr>
<td>灵图 51ditu 地图 API</td>
<td style="text-align:center">火星坐标</td>
</tr>
</tbody>
</table>
<ul>
<li>注1：百度地图使用百度坐标，支持从地球坐标和火星坐标导入成百度坐标，但无法导出。并且批量坐标转换一次只能转换20个(待验证)。</li>
<li>注2：搜狗地图支持直接显示地球坐标，支持地球坐标、火星坐标、百度坐标导入成搜狗坐标，同样，搜狗坐标也无法导出。</li>
</ul>
<p>说完坐标系统，我们自然能够知道这里的问题，通过以下问题，来说说我对此的研究。</p>
<h1 id="2、各个坐标系的相互转换"><a href="#2、各个坐标系的相互转换" class="headerlink" title="2、各个坐标系的相互转换"></a>2、各个坐标系的相互转换</h1><h2 id="2-1-火星坐标系「GCJ-02」与百度坐标系「BD-09」的转换算法"><a href="#2-1-火星坐标系「GCJ-02」与百度坐标系「BD-09」的转换算法" class="headerlink" title="2.1 火星坐标系「GCJ-02」与百度坐标系「BD-09」的转换算法"></a>2.1 火星坐标系「GCJ-02」与百度坐标系「BD-09」的转换算法</h2><p>其中 bd_encrypt 将 GCJ-02 坐标转换成 BD-09 坐标， bd_decrypt 反之。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">void bd_encrypt(double gg_lat, double gg_lon, double &amp;bd_lat, double &amp;bd_lon)  </div><div class="line">&#123;  </div><div class="line">    double x = gg_lon, y = gg_lat;  </div><div class="line">    double z = sqrt(x * x + y * y) + 0.00002 * sin(y * x_pi);  </div><div class="line">    double theta = atan2(y, x) + 0.000003 * cos(x * x_pi);  </div><div class="line">    bd_lon = z * cos(theta) + 0.0065;  </div><div class="line">    bd_lat = z * sin(theta) + 0.006;  </div><div class="line">&#125;  </div><div class="line">void bd_decrypt(double bd_lat, double bd_lon, double &amp;gg_lat, double &amp;gg_lon)  </div><div class="line">&#123;  </div><div class="line">    double x = bd_lon - 0.0065, y = bd_lat - 0.006;  </div><div class="line">    double z = sqrt(x * x + y * y) - 0.00002 * sin(y * x_pi);  </div><div class="line">    double theta = atan2(y, x) - 0.000003 * cos(x * x_pi);  </div><div class="line">    gg_lon = z * cos(theta);  </div><div class="line">    gg_lat = z * sin(theta);  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="2-2-地球坐标系「WGS-84」到火星坐标系「GCJ-02」的转换算法"><a href="#2-2-地球坐标系「WGS-84」到火星坐标系「GCJ-02」的转换算法" class="headerlink" title="2.2 地球坐标系「WGS-84」到火星坐标系「GCJ-02」的转换算法"></a>2.2 地球坐标系「WGS-84」到火星坐标系「GCJ-02」的转换算法</h2><p>WGS-84 到 GCJ-02 的转换「即 GPS 加偏」算法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line">using System;   </div><div class="line">namespace Navi  </div><div class="line">&#123;  </div><div class="line">    class EvilTransform  </div><div class="line">    &#123;  </div><div class="line">        const double pi = 3.14159265358979324;  </div><div class="line">        //   </div><div class="line">        // Krasovsky 1940   </div><div class="line">        //   </div><div class="line">        // a = 6378245.0, 1/f = 298.3   </div><div class="line">        // b = a * (1 - f)   </div><div class="line">        // ee = (a^2 - b^2) / a^2;   </div><div class="line">        const double a = 6378245.0;  </div><div class="line">        const double ee = 0.00669342162296594323;  </div><div class="line">        //   </div><div class="line">        // World Geodetic System ==&gt; Mars Geodetic System   </div><div class="line">        public static void transform(double wgLat, double wgLon, out double mgLat, out double mgLon)  </div><div class="line">        &#123;  </div><div class="line">            if (outOfChina(wgLat, wgLon))  </div><div class="line">            &#123;  </div><div class="line">                mgLat = wgLat;  </div><div class="line">                mgLon = wgLon;  </div><div class="line">                return;  </div><div class="line">            &#125;  </div><div class="line">            double dLat = transformLat(wgLon - 105.0, wgLat - 35.0);  </div><div class="line">            double dLon = transformLon(wgLon - 105.0, wgLat - 35.0);  </div><div class="line">            double radLat = wgLat / 180.0 * pi;  </div><div class="line">            double magic = Math.Sin(radLat);  </div><div class="line">            magic = 1 - ee * magic * magic;  </div><div class="line">            double sqrtMagic = Math.Sqrt(magic);  </div><div class="line">            dLat = (dLat * 180.0) / ((a * (1 - ee)) / (magic * sqrtMagic) * pi);  </div><div class="line">            dLon = (dLon * 180.0) / (a / sqrtMagic * Math.Cos(radLat) * pi);  </div><div class="line">            mgLat = wgLat + dLat;  </div><div class="line">            mgLon = wgLon + dLon;  </div><div class="line">        &#125;  </div><div class="line">        static bool outOfChina(double lat, double lon)  </div><div class="line">        &#123;  </div><div class="line">            if (lon &lt; 72.004 || lon &gt; 137.8347)  </div><div class="line">                return true;  </div><div class="line">            if (lat &lt; 0.8293 || lat &gt; 55.8271)  </div><div class="line">                return true;  </div><div class="line">            return false;  </div><div class="line">        &#125;  </div><div class="line">        static double transformLat(double x, double y)  </div><div class="line">        &#123;  </div><div class="line">            double ret = -100.0 + 2.0 * x + 3.0 * y + 0.2 * y * y + 0.1 * x * y + 0.2 * Math.Sqrt(Math.Abs(x));  </div><div class="line">            ret += (20.0 * Math.Sin(6.0 * x * pi) + 20.0 * Math.Sin(2.0 * x * pi)) * 2.0 / 3.0;  </div><div class="line">            ret += (20.0 * Math.Sin(y * pi) + 40.0 * Math.Sin(y / 3.0 * pi)) * 2.0 / 3.0;  </div><div class="line">            ret += (160.0 * Math.Sin(y / 12.0 * pi) + 320 * Math.Sin(y * pi / 30.0)) * 2.0 / 3.0;  </div><div class="line">            return ret;  </div><div class="line">        &#125;  </div><div class="line">        static double transformLon(double x, double y)  </div><div class="line">        &#123;  </div><div class="line">            double ret = 300.0 + x + 2.0 * y + 0.1 * x * x + 0.1 * x * y + 0.1 * Math.Sqrt(Math.Abs(x));  </div><div class="line">            ret += (20.0 * Math.Sin(6.0 * x * pi) + 20.0 * Math.Sin(2.0 * x * pi)) * 2.0 / 3.0;  </div><div class="line">            ret += (20.0 * Math.Sin(x * pi) + 40.0 * Math.Sin(x / 3.0 * pi)) * 2.0 / 3.0;  </div><div class="line">            ret += (150.0 * Math.Sin(x / 12.0 * pi) + 300.0 * Math.Sin(x / 30.0 * pi)) * 2.0 / 3.0;  </div><div class="line">            return ret;  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>以上参考自：<a href="http://www.xue5.com/Mobile/iOS/679842.html" target="_blank" rel="external">http://www.xue5.com/Mobile/iOS/679842.html</a></p>
<h2 id="2-3-百度在线转换API"><a href="#2-3-百度在线转换API" class="headerlink" title="2.3 百度在线转换API"></a>2.3 百度在线转换API</h2><blockquote>
<p><a href="http://api.map.baidu.com/ag/coord/convert?from=0&amp;to=4&amp;x=longitude&amp;y=latitude" target="_blank" rel="external">http://api.map.baidu.com/ag/coord/convert?from=0&amp;to=4&amp;x=longitude&amp;y=latitude</a><br>from: 来源坐标系「0 表示 WGS-84 坐标；2 表示GCJ-02 坐标」<br>to: 转换后的坐标「4 表示 BD-09 坐标，即百度地图使用的行」<br>x: 经度<br>y: 纬度  </p>
</blockquote>
<p>请求之后会返回一串 Json</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&#123;  </div><div class="line">    &quot;error&quot;:0,  </div><div class="line">    &quot;x&quot;:&quot;MTIxLjUwMDIyODIxNDk2&quot;,  </div><div class="line">    &quot;y&quot;:&quot;MzEuMjM1ODUwMjYwMTE3&quot;  </div><div class="line">&#125;  </div><div class="line">error：是结果是否出错标志位，0 表示成功</div><div class="line">x: 坐标系 2 时为经度，4 时为纬度(Base64编码)</div><div class="line">y: 坐标系 4 时为经度，2 时为纬度(Base64编码)</div><div class="line">``` </div><div class="line">什么情况，经纬度居然还加密？那接下来也只好见招拆招了</div></pre></td></tr></table></figure>
<p>import java.io.BufferedReader;<br>import java.io.IOException;<br>import java.io.InputStream;<br>import java.io.InputStreamReader;<br>import java.io.OutputStreamWriter;<br>import java.net.URL;<br>import java.net.URLConnection;<br>import com.sun.org.apache.xerces.internal.impl.dv.util.Base64;<br>public class BaiduAPIConverter extends Thread {<br>  public static void testPost(String x, String y) throws IOException {<br>    try {<br>      URL url = new URL(“<a href="http://api.map.baidu.com/ag/coord/convert?from=2&amp;to=4&amp;x=&quot;+" target="_blank" rel="external">http://api.map.baidu.com/ag/coord/convert?from=2&amp;to=4&amp;x=&quot;+</a> x + “&amp;y=” + y);<br>      URLConnection connection = url.openConnection();<br>      connection.setDoOutput(true);<br>      OutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream(), “utf-8”);<br>      // remember to clean up<br>      out.flush();<br>      out.close();<br>      // 一旦发送成功，用以下方法就可以得到服务器的回应：<br>      String sCurrentLine, sTotalString;<br>      sCurrentLine = sTotalString = “”;<br>      InputStream l_urlStream;<br>      l_urlStream = connection.getInputStream();<br>      BufferedReader l_reader = new BufferedReader(new InputStreamReader(l_urlStream));<br>      while ((sCurrentLine = l_reader.readLine()) != null) {<br>        if (!sCurrentLine.equals(“”))<br>          sTotalString += sCurrentLine;<br>      }<br>      sTotalString = sTotalString.substring(1, sTotalString.length() - 1);<br>      String[] results = sTotalString.split(“\,”);<br>      if (results.length == 3) {<br>        if (results[0].split(“\:”)[1].equals(“0”)) {<br>          String mapX = results[1].split(“\:”)[1];<br>          String mapY = results[2].split(“\:”)[1];<br>          mapX = mapX.substring(1, mapX.length() - 1);<br>          mapY = mapY.substring(1, mapY.length() - 1);<br>          mapX = new String(Base64.decode(mapX));<br>          mapY = new String(Base64.decode(mapY));<br>          System.out.println(“\t” + mapX + “\t” + mapY);<br>        }<br>      }<br>     sleep(10000);<br>    } catch (InterruptedException e) {<br>      // TODO Auto-generated catch block<br>      e.printStackTrace();<br>    }<br>  }<br>  /** </p>
<ul>
<li>@param args </li>
<li>@throws IOException<br>*/<br>public static void main(String[] args) throws IOException {<br>testPost(“120.151379”, “30.184678”);<br>System.out.println(“ok”);<br>}<br>}  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">到这里也差不多好了，主要的代码都写出来了，其他的您就自己写吧。</div><div class="line">以上参考自：http://scalpel.me/archives/136</div><div class="line"></div><div class="line">## 2.4 百度内置转换方法，可以不局限于百度定位 SDK</div><div class="line"></div><div class="line">在百度地图中取得 WGS-84 坐标，调用如下方法：</div></pre></td></tr></table></figure>
</li>
</ul>
<p>BMapManager.getLocationManager().setLocationCoordinateType(MKLocationManager.MK_COORDINATE_WGS84);<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">这样从百度 API 中取得的坐标就是 WGS-84 了，可是这种坐标如果显示到百度地图上就会偏移，也就是说取出一个坐标，原封不动的显示上去就偏移了，所以为了显示也是正常就需要在绘制到百度地图上之前转换成 BD-09 。</div><div class="line">转换成 BD-09，调用方法：</div></pre></td></tr></table></figure></p>
<p>GeoPoint wgs84;<br>GeoPoint bd09= CoordinateConvert.bundleDecode(CoordinateConvert.fromWgs84ToBaidu(wgs84))；<br>```</p>
<p>这里实在不明白为何要设计成 CoordinateConvert.fromWgs84ToBaidu(wgs84) 返回了一个 Bundle，所以还需要 CoordinateConvert.bundleDecode() 再转成 GeoPoint 。</p>
<h1 id="3-参考文章"><a href="#3-参考文章" class="headerlink" title="3. 参考文章"></a>3. 参考文章</h1><ol>
<li><a href="http://blog.csdn.net/findsafety/article/details/12442639" target="_blank" rel="external">国内各地图API坐标系统比较与转换</a></li>
<li><a href="http://rovertang.com/about-baidu-map-coordinate-conversion-interface/" target="_blank" rel="external">关于百度地图坐标转换接口的研究</a></li>
<li><a href="http://blog.csdn.net/gatr/article/details/21520737" target="_blank" rel="external">构建自己的百度地图坐标纠偏数据库 </a></li>
<li><a href="http://blog.csdn.net/junfeng120125/article/details/9966857" target="_blank" rel="external">GPS纠偏算法，适用于google,高德体系的地图 </a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.jpg"
               alt="雪中亮「123lml123」" />
          <p class="site-author-name" itemprop="name">雪中亮「123lml123」</p>
           
              <p class="site-description motion-element" itemprop="description">Without the continuous bitter cold, there be no fragrant plum blossom ~ ~ 不经一番寒彻骨，怎得梅花扑鼻香。</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">20</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/bitkylin" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://github.com/bitkylin" target="_blank" title="简书">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  简书
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://blog.csdn.net/llmmll08" target="_blank" title="CSDN">
                  
                    <i class="fa fa-fw fa-csdn"></i>
                  
                  CSDN
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.miitbeian.gov.cn/" title="「ICP备案号」---" target="_blank">「ICP备案号」---</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.miitbeian.gov.cn/" title="豫ICP备16007450号" target="_blank">豫ICP备16007450号</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">雪中亮「123lml123」</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  

  

</body>
</html>
